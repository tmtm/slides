<section>

<h1>MyNA 20周年</h1>

<p>とみたまさひろ</p>

<p>2020-05-25</p>

<p>#mysql_jp</p>

</section>
<section>

<h2>おっさんの昔話のコーナー</h2>

</section>
<section>

<h2>自己紹介</h2>

<p><img src="images/icon2.jpg" alt="" style="position:absolute;top:0%;right:0;width:180px;border:0px"></p>

<ul>
  <li>
    <p>とみたまさひろ</p>
  </li>
  <li>
    <p>MySQL</p>
  </li>
  <li>
    <p>Ruby</p>
  </li>
  <li>
    <p>メール / 文字化け</p>
  </li>
  <li>
    <p><a href="https://twitter.com/tmtms">https://twitter.com/tmtms</a></p>
  </li>
  <li>
    <p><a href="https://tmtms.hatenablog.com">https://tmtms.hatenablog.com</a></p>
  </li>
</ul>

</section>
<section>

<h2>MySQL Parameters</h2>

<p><a href="https://mysql-params.tmtms.net">https://mysql-params.tmtms.net</a></p>

<p><a href="https://mysql-params.tmtms.net/mysqld/?vers=5.0.96,5.1.72,5.5.62,5.6.48,5.7.30,8.0.20&amp;diff=true">5.0〜8.0</a></p>

<p><a href="https://mysql-params.tmtms.net/mysqld/?vers=8.0.11,8.0.12,8.0.13,8.0.14,8.0.15,8.0.16,8.0.17,8.0.18,8.0.19,8.0.20&amp;diff=true">8.0.*</a></p>

</section>
<section>

<h2>mrubyudf</h2>

<p>Ruby で MySQL の UDF を書くためのツール</p>

<p><a href="https://github.com/tmtm/mrubyudf">https://github.com/tmtm/mrubyudf</a></p>

<p><a href="https://tmtms.hatenablog.com/entry/202005/mrubyudf">https://tmtms.hatenablog.com/entry/202005/mrubyudf</a></p>

</section>
<section>

<h2>MySQL徹底入門第4版 🎉</h2>

<p style="font-size: 50%"><a href="https://www.seshop.com/product/detail/23085">https://www.seshop.com/product/detail/23085</a><br>
絶賛校正中!</p>
<p><img src="images/myna-book.png" alt="" style="width:70%"></p>

</section>
<section>

<h1>おっさんの昔話</h1>

</section>
<section>

<p>記憶が怪しいので嘘かもしれません</p>

</section>
<section>

<h1>1997年</h1>

</section>
<section>

<h2>1997年</h2>

<ul>
  <li>香港がイギリスから返還される</li>
  <li>マーズ・パスファインダーが火星に着陸</li>
  <li>Mac OS 8 発売</li>
  <li>サッカー日本代表がワールドカップ初出場</li>
  <li>X JAPAN 解散</li>
  <li>長野新幹線開業</li>
  <li>映画「もののけ姫」「インデペンデンス・デイ」「タイタニック」</li>
  <li>アニメ「ポケットモンスター」放送開始</li>
  <li>音楽「CAN YOU CELEBRATE?」「硝子の少年」「HOWEVER」</li>
  <li>ゲーム「ファイナル・ファンタジーVII」</li>
</ul>

</section>
<section>

<p>会社の内製ツール作成＆メンテ</p>

<p>会社で使ってたDBがInf◯rmix(伏せ字)だった</p>

<p>ESQL/C - C に SQL を埋め込む謎言語</p>

<p>メッチャ使いづらい</p>

</section>
<section>

<p>「普通にCから使える無料のDBないかなー」</p>

</section>
<section>

<p>MySQL と Postgres95 を発見</p>

<p style="font-size: 60%;color: #666">当時 Google は無かったらしい<br>
どうやって探したんだっけ…</p>

</section>
<section>

<p>テキトーに速度測ってみたら MySQL の方が速かった</p>

<p>「じゃあ MySQL でいいや」</p>

<p>「英語苦手だけど日本語マニュアルもあるし」<br>
(廣川類さん @rui_hi 翻訳)</p>

</section>
<section>

<p>しかし実はその日本語マニュアルの MySQL の<br>
バージョンは古かった… (3.20)</p>

</section>
<section>

<p>しかたなく英語のマニュアルを読む…</p>

<p>「英語わからん」</p>

<p>「訳しながら読んでると3行前のを忘れる」</p>

<p>「訳した文を書きながら読むか…」</p>

</section>
<section>

<h2>マニュアルの全文訳完成</h2>

<p>1997/10</p>

<p>質はそれなり</p>

<p>「せっかくだからウェブに公開しよう」</p>

<p style="font-size: 60%;color: #666">（たしか Monty にメールで公開許可もらったはず…）</p>

</section>
<section>

<p>日本語を検索すると結果がおかしい</p>

<p>(当時のUNIXではEUC-JPが主流)</p>

</section>
<section>

<p>デフォルトの latin1 だと</p>

<p><code>À</code>(C0) = <code>Á</code>(C1) = <code>Â</code>(C2)…<br>
= <code>à</code>(E0) = <code>á</code>(E1) = <code>â</code>(E2)…</p>

</section>
<section>

<p>EUC-JPの日本語文字は 0xA1〜0xFE</p>

<p><code>だ</code>(A4<strong>C0</strong>) = <code>ち</code>(A4<strong>C1</strong>) = <code>ぢ</code>(A4<strong>C2</strong>)…<br>
= <code>め</code>(A4<strong>E0</strong>) = <code>も</code>(A4<strong>E1</strong>) = <code>ゃ</code>(A4<strong>E2</strong>)…</p>

</section>
<section>

<p>「latin1 じゃなくて binary を使えば解決！」</p>

<p>(binary はすべての文字を区別)</p>

</section>
<section>

<p>ところが<br>
<code>LIKE "%海%"</code> で「続く」がマッチ！</p>

</section>
<section>

<p>「海」: B3 A4</p>

<p>「続く」: C2 <strong>B3 A4</strong> AF</p>

</section>
<section>

<p>「バイト単位の比較ではダメだ…」</p>

<p>LIKE で文字単位にマッチングさせるパッチを作成</p>

</section>
<section>

<h2>日本語 EUC パッチ誕生</h2>

<p>1997/11</p>

<p>文字コード名は jeuc</p>

</section>
<section>

<h1>1998年</h1>

</section>
<section>

<h2>1998年</h2>

<ul>
  <li>長野オリンピック</li>
  <li>明石海峡大橋開通</li>
  <li>国際宇宙ステーション建設開始</li>
  <li>任天堂がゲームボーイカラー発売</li>
  <li>セガがドリームキャスト発売</li>
  <li>音楽「誘惑」「夜空ノムコウ」「my graduation」</li>
  <li>映画「踊る大捜査線」「ポケットモンスター ミュウツーの逆襲」「メン・イン・ブラック」</li>
</ul>

</section>
<section>

<p>個人宛にメールで問い合わせが来るけど<br>
情報が個人間に閉じるのがもったいない</p>

<p>「誰かメーリングリスト作ってくれないかなー」</p>

<p>とウェブページに書いたら</p>

</section>
<section>

<p>「作ってみた」 by ソフトエージェンシー</p>

</section>
<section>

<h2>メーリングリスト発足</h2>

<p>1998/1</p>

</section>
<section>

<p>当時のフリーソフトウェア界隈のMLは</p>

<p>初心者に厳しくて殺伐としてた</p>

<p>それは嫌だったのでゆるふわなML運営</p>

</section>
<section>

<p>メーリングリストでシフトJISを使いたいという要望</p>

<p>シフトJISは2バイト目に 5C がある</p>

<p><code>表</code>(95 <strong>5C</strong>)</p>

<p>5C はエスケープ文字 <code>\</code> と同じ</p>

<p>LIKE だけじゃなくて文字列全般的な考慮が必要</p>

</section>
<section>

<p>似たようなマルチバイトcharset BIG5 があったので<br>
それを真似てシフトJIS対応パッチを作成</p>

</section>
<section>

<h2>UJIS&amp;SJIS対応パッチ誕生</h2>

<p>1998/3</p>

<p>この頃から jeuc から ujis に名前を変えたらしい</p>

</section>
<section>

<h2>3.21.30 にパッチが取り込まれる</h2>

<p>1998/5</p>

<p>パッチをあてなくても普通に日本語が使えるように</p>

</section>
<section>

<h1>2000年</h1>

</section>
<section>

<p>MLの過去ログをウェブで公開したい</p>

</section>
<section>

<p>どこのサーバー使おうか</p>

<p>せっかくだからドメイン名とる？</p>

<p>「日本MySQLユーザ会」とかでっちあげて<br>
mysql.gr.jp とっちゃえ</p>

</section>
<section>

<h2>日本MySQLユーザ会 発足</h2>

<p>2000/3</p>

<p>ドメイン名を取るためには<br>
代表者を決めないといけないので<br>
流れで自分が代表者に</p>

</section>
<section>

<p>略称候補は色々あったけど</p>

<blockquote>
  <p>MySQLって、日本じゃマイナー(MINOR）だよね。それは昔の話さ。と言える日をまつ人の集団。</p>
</blockquote>

<p><a href="http://www.mysql.gr.jp/mysqlml/mysql/msg/1730">http://www.mysql.gr.jp/mysqlml/mysql/msg/1730</a></p>

<p>ということで MyNA に</p>

<p style="font-size: 60%;color: #666">(当時は PostgreSQL がメジャーだった)</p>

</section>
<section>

<p>そしてその後マイナーじゃなくなりましたとさ</p>

</section>
<section>

<h2>めでたしめでたし</h2>

</section>
<section>

<p>おまけ</p>

</section>
<section>

<p>メーリングリストの流量</p>

<p><img src="images/ml.png" alt=""></p>

</section>
<section>

<p>いつまでもメーリングリストでいいの？</p>

<p>Slack ？ んー…</p>

</section>
