<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>MySQL Paramters ã®è£å´</title>

<meta name="description" content="">
<meta name="author" content="">
<meta name="generator" content="reveal-ck 4.0.0">



<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">


<!-- Code syntax highlighting -->
<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/reveal.css">
<link rel="stylesheet" href="css/theme/tmtms.css" id="theme">

<!-- Theme used for syntax highlighting of code -->
<link rel="stylesheet" href="lib/css/monokai.css">

<link rel="stylesheet" href="css/reveal-ck.css">

<link rel="stylesheet" href="css/rabbit.css">
<link rel="stylesheet" href="css/theme/tmtms.css">

<!-- Printing and PDF exports -->
<script>
  var link = document.createElement( 'link' );
  link.rel = 'stylesheet';
  link.type = 'text/css';
  link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
  document.getElementsByTagName( 'head' )[0].appendChild( link );
</script>

  </head>

  <body>
    <div class="reveal">
  <div class="slides">
    <section>

<h2>MySQL Parameters ã®è£å´</h2>

<p>æ—¥æœ¬MySQLãƒ¦ãƒ¼ã‚¶ä¼šä¼š</p>

<p>2020-11-25</p>

<p>ã¨ã¿ãŸã¾ã•ã²ã‚</p>

</section>
<section>

<h2>è‡ªå·±ç´¹ä»‹</h2>

<p><img src="images/icon2.jpg" alt="" style="position:absolute;top:0%;right:0;width:180px;border:0px"></p>

<ul>
  <li>ã¨ã¿ãŸã¾ã•ã²ã‚</li>
  <li><a href="https://twitter.com/tmtms">https://twitter.com/tmtms</a></li>
  <li><a href="https://tmtms.hatenablog.com">https://tmtms.hatenablog.com</a></li>
  <li><a href="https://zenn.dev/tmtms">https://zenn.dev/tmtms</a></li>
  <li>Ruby / ãƒ¡ãƒ¼ãƒ« / æ–‡å­—åŒ–ã‘</li>
</ul>

</section>
<section>

<h2>MySQL Parameters</h2>

<p><a href="https://mysql-params.tmtms.net">https://mysql-params.tmtms.net</a></p>

<p>MySQLã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³é–“ã®å·®åˆ†ã‚’è¦‹ã‚Œã‚‹</p>

</section>
<section>

<ul>
  <li>
<code>mysqld</code> ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€¤</li>
  <li>
<code>mysql</code> ã®ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®å€¤</li>
  <li>ã‚µãƒ¼ãƒãƒ¼å¤‰æ•°ã®å€¤</li>
  <li>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã®å€¤</li>
  <li>Character set å</li>
  <li>Collation å</li>
  <li>æ¨©é™å</li>
  <li>é–¢æ•°å</li>
  <li>information_schema ã®ãƒ†ãƒ¼ãƒ–ãƒ«åã¨ã‚«ãƒ©ãƒ å</li>
  <li>performance_schema ã®ãƒ†ãƒ¼ãƒ–ãƒ«åã¨ã‚«ãƒ©ãƒ å</li>
  <li>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</li>
</ul>

</section>
<section>

<h2>ã€ŒMySQL Parameters ã®è£å´ã€</h2>

</section>
<section>

<h2>è£å´ã¯ç„¡ã„</h2>

</section>
<section>

<h2>Vue.js ã®å‹‰å¼·ã§ä½œã‚Šå§‹ã‚ãŸ</h2>

<div style="margin: 0 20%">
<blockquote class="twitter-tweet">
<p lang="ja" dir="ltr">Vue.jsã®ç·´ç¿’ã«MySQLã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã‚’è¡¨ç¤ºã™ã‚‹ãƒšãƒ¼ã‚¸ã‚’ä½œã£ã¦ã¿ãŸã€‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³é–“ã®æ¯”è¼ƒã‚‚ã§ãã‚‹ã€‚ã¨ã‚Šã‚ãˆãšæ‰‹å…ƒã«ã‚ã£ãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã ã‘ã€‚ / â€œMySQL Parametersâ€ <a href="https://t.co/0DXP9Oz1l2">https://t.co/0DXP9Oz1l2</a></p>â€” ã¨ã¿ãŸã¾ã•ã²ã‚ğŸ£ğŸº (<a href="https://github.com/tmtms" class="user-mention">@tmtms</a>) <a href="https://twitter.com/tmtms/status/966360878764326912?ref_src=twsrc%5Etfw">February 21, 2018</a>
</blockquote> <script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div>

</section>
<section>

<h2>Vue.js</h2>

<blockquote style="font-size: 70%">
  <p>Vue.jsï¼ˆãƒ´ãƒ¥ãƒ¼ã‚¸ã‚§ã‚¤ã‚¨ã‚¹ï¼‰ã¾ãŸã¯Vueã¯ã€Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ãŠã‘ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’æ§‹ç¯‰ã™ã‚‹ãŸã‚ã®ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®JavaScriptãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã§ã‚ã‚‹ã€‚ä»–ã®JavaScriptãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’ä½¿ç”¨ã™ã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¸ã®å°å…¥ã«ãŠã„ã¦ã€å®¹æ˜“ã«ãªã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã‚‹ã€‚ä¸€æ–¹ã§é«˜æ©Ÿèƒ½ãªã‚·ãƒ³ã‚°ãƒ«ãƒšãƒ¼ã‚¸ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ˆSPAï¼‰ã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã‚‚å¯èƒ½ã§ã‚ã‚‹ã€‚</p>
</blockquote>

<p><a href="https://ja.wikipedia.org/wiki/Vue.js">https://ja.wikipedia.org/wiki/Vue.js</a></p>

</section>
<section>

<h2>å…¨éƒ¨ JavaScript ã§å‡¦ç†</h2>

</section>
<section>

<h2>ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã®ã¿</h2>

</section>
<section>

<h2>è£å´(ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰)ã¯ç„¡ã„</h2>

</section>
<section>

<h2>è£å´ã¯ãªã„ã‘ã©å‰å‡¦ç†ã¯ã‚ã‚‹</h2>

</section>
<section>

<h2>ä»•çµ„ã¿</h2>

</section>
<section>

<h2>ãƒ‡ãƒ¼ã‚¿ã¯ JSON</h2>

<p>ãƒãƒ¼ã‚¸ãƒ§ãƒ³æƒ…å ±</p>
<pre><code class="language-json">{
  "8.0.22": "json/8.0.22.json",
  "8.0.21": "json/8.0.21.json",
  "8.0.20": "json/8.0.20.json",
  ...
}
</code></pre>
<p class="humble-link"><a href="https://mysql-params.tmtms.net/mysqld/json/version.json">https://mysql-params.tmtms.net/mysqld/json/version.json</a></p>

</section>
<section>

<p>mysqld ã® 8.0.22 ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã¨å€¤</p>
<pre><code class="language-json">{
  "abort-slave-event-count": "0",
  "activate-all-roles-on-login": "FALSE",
  "admin-address": "(No default value)",
  ...
}
</code></pre>
<p class="humble-link"><a href="https://mysql-params.tmtms.net/mysqld/json/8.0.22.json">https://mysql-params.tmtms.net/mysqld/json/8.0.22.json</a></p>

</section>
<section>

<p>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒé¸æŠã•ã‚ŒãŸã¨ãã«<br>
JSON ã‚’å–å¾—ã—ã¦ JavaScript ã§ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆ</p>

<p>å·®åˆ†è¡¨ç¤ºã‚‚ JavaScript ã§ JSON ã®å·®åˆ†ã‚’ç¢ºèª</p>

</section>
<section>

<p>ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã¯é™çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã ã‘ãªã®ã§<br>
GitHub Pages ã§ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°</p>

</section>
<section>

<p>ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’é¸æŠã—ãŸã¨ãã« URL ã‚’å¤‰æ›´<br>
â†“â†‘<br>
URL ã‚’å¤‰æ›´ã—ãŸã¨ãã«ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®é¸æŠçŠ¶æ…‹ã‚’å¤‰æ›´</p>

<p style="font-size: 70%; color: #555">è‡ªå‰ã§ <code>history.pushState</code> ã¨ã‹ã§ã‚„ã£ã¦ã‚‹ã‘ã© Vue ã®ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚’ä½¿ã†ã¨ã‚‚ã£ã¨ç°¡å˜ã«ã§ããã†ãªæ°—ãŒã™ã‚‹</p>

</section>
<section>

<h2>ãƒ‡ãƒ¼ã‚¿ã®ä½œã‚Šæ–¹</h2>

</section>
<section>

<p>Linux Generic 64bit ãƒã‚¤ãƒŠãƒªã‚’ä½¿ç”¨<br>
<code>mysql-8.0.22-linux-glibc2.12-x86_64.tar.xz</code></p>

<p>ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«å…ˆã¯ <code>/usr/local/mysql</code> ã«çµ±ä¸€</p>

<p>ãƒ›ã‚¹ãƒˆåã¯ <code>hostname</code> ã«çµ±ä¸€</p>

<p>ã¡ã‚ƒã‚“ã¨åˆæœŸè¨­å®šã—ãªã„ã¨ã¡ã‚ƒã‚“ã¨è¡¨ç¤ºã§ããªã„</p>

<pre><code class="language-shell">scripts/mysql_install_db --no-defaults
</code></pre>

<pre><code class="language-shell">bin/mysqld --initialize
</code></pre>

</section>
<section>

<p><code>mysqld --help -v</code></p>

<pre style="font-size: 50%"><code class="language-text">Variables (--variable-name=value)
and boolean options {FALSE|TRUE}                             Value (after reading options)
------------------------------------------------------------ -------------
abort-slave-event-count                                      0
activate-all-roles-on-login                                  FALSE
admin-address                                                (No default value)
admin-port                                                   33062
admin-ssl                                                    TRUE
admin-ssl-ca                                                 (No default value)
admin-ssl-capath                                             (No default value)
admin-ssl-cert                                               (No default value)
admin-ssl-cipher                                             (No default value)
admin-ssl-crl                                                (No default value)
admin-ssl-crlpath                                            (No default value)
...
</code></pre>

</section>
<section>

<p><code>mysqld --help -v</code> ã¨ <code>show variables</code> ã¯ç•°ãªã‚‹ã®ã§</p>

<p>ãã‚Œãã‚Œå‡ºåŠ›</p>

</section>
<section>

<h3>æ¨©é™ã®å–å¾—</h3>

<pre><code class="language-sql">DESC mysql.user;
</code></pre>
<pre><code class="language-text">Field	Type	Null	Key	Default	Extra
Host	char(255)	NO	PRI		
User	char(32)	NO	PRI		
Select_priv	enum('N','Y')	NO		N	
Insert_priv	enum('N','Y')	NO		N	
Update_priv	enum('N','Y')	NO		N	
Delete_priv	enum('N','Y')	NO		N	
Create_priv	enum('N','Y')	NO		N	
Drop_priv	enum('N','Y')	NO		N	
Reload_priv	enum('N','Y')	NO		N	
...
</code></pre>

<p><code>xxxx_priv</code> ã‹ã‚‰ <code>xxxx</code> ã‚’å–å¾—</p>

</section>
<section>

<pre><code class="language-sql">DESC mysql.proxies_priv;
</code></pre>

<pre><code class="language-text">Field	Type	Null	Key	Default	Extra
Host	char(255)	NO	PRI		
User	char(32)	NO	PRI		
Proxied_host	char(255)	NO	PRI		
Proxied_user	char(32)	NO	PRI		
With_grant	tinyint(1)	NO		0	
Grantor	varchar(288)	NO	MUL		
</code></pre>

<p>çµæœã¯è¦‹ã¦ãªãã¦ <code>PROXY</code> æ¨©ã®æœ‰ç„¡ã‚’ç¢ºèªã—ã¦ã‚‹ã ã‘</p>

</section>
<section>

<pre><code>CREATE USER test IDENTIFIED BY "xxxxxx";
GRANT ALL ON *.* TO test WITH GRANT OPTION;
SHOW GRANTS FOR test;
</code></pre>

<p>8.0 ãªã‚‰ <code>DESC mysql.user</code> ã®ä»£ã‚ã‚Šã«ã“ã‚Œã ã‘ã§ã„ã„</p>

</section>
<section>

<h3>SHOW GRANTS ã®é•ã„</h3>

<p>5.7</p>
<pre><code class="language-sql">GRANT ALL PRIVILEGES ON *.* TO 'test'@'%' WITH GRANT OPTION
</code></pre>

<p>8.0</p>
<pre style="word-break: break-all; white-space: pre-wrap; font-size: 50%"><code class="language-sql">GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, RELOAD, SHUTDOWN, PROCESS, FILE, REFERENCES, INDEX, ALTER, SHOW DATABASES, SUPER, CREATE TEMPORARY TABLES, LOCK TABLES, EXECUTE, REPLICATION SLAVE, REPLICATION CLIENT, CREATE VIEW, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE, CREATE USER, EVENT, TRIGGER, CREATE TABLESPACE, CREATE ROLE, DROP ROLE ON *.* TO `test`@`%` WITH GRANT OPTION
GRANT APPLICATION_PASSWORD_ADMIN,AUDIT_ADMIN,BACKUP_ADMIN,BINLOG_ADMIN,BINLOG_ENCRYPTION_ADMIN,CLONE_ADMIN,CONNECTION_ADMIN,ENCRYPTION_KEY_ADMIN,GROUP_REPLICATION_ADMIN,INNODB_REDO_LOG_ARCHIVE,INNODB_REDO_LOG_ENABLE,PERSIST_RO_VARIABLES_ADMIN,REPLICATION_APPLIER,REPLICATION_SLAVE_ADMIN,RESOURCE_GROUP_ADMIN,RESOURCE_GROUP_USER,ROLE_ADMIN,SERVICE_CONNECTION_ADMIN,SESSION_VARIABLES_ADMIN,SET_USER_ID,SHOW_ROUTINE,SYSTEM_USER,SYSTEM_VARIABLES_ADMIN,TABLE_ENCRYPTION_ADMIN,XA_RECOVER_ADMIN ON *.* TO `test`@`%` WITH GRANT OPTION
</code></pre>

</section>
<section>

<h3>é–¢æ•°</h3>

<p>æœ€åˆã¯ <code>help functions</code> ã‹ã‚‰</p>

<pre style="word-break: break-all; white-space: pre-wrap; font-size: 50%"><code class="language-shell">mysql&gt; help functions
You asked for help about help category: "Functions"
For more information, type 'help &lt;item&gt;', where &lt;item&gt; is one of the following
categories:
   Aggregate Functions and Modifiers
   Bit Functions
   Cast Functions and Operators
   Comparison Operators
   Control Flow Functions
   Date and Time Functions
...
mysql&gt; help Aggregate Functions and Modifiers
You asked for help about help category: "Aggregate Functions and Modifiers"
For more information, type 'help &lt;item&gt;', where &lt;item&gt; is one of the following
topics:
   AVG
   BIT_AND
   BIT_OR
   BIT_XOR
...
</code></pre>

</section>
<section>

<p>ä»Šã¯ <code>mysql.help_category</code> &amp; <code>mysql.help_topic</code> ã‹ã‚‰</p>

<pre style="word-break: break-all; white-space: pre-wrap; font-size: 50%"><code class="language-shell">mysql&gt; select help_category_id,name,parent_category_id from mysql.help_category;
+------------------+---------------------------------+--------------------+
| help_category_id | name                            | parent_category_id |
+------------------+---------------------------------+--------------------+
|                0 | Contents                        |                  0 |
|                1 | Help Metadata                   |                  0 |
|                2 | Data Types                      |                  0 |
|                3 | Administration                  |                  0 |
|                4 | Functions                       |                  0 |
...
mysql&gt; select help_topic_id,name,help_category_id from mysql.help_topic;
+---------------+----------------------------+------------------+
| help_topic_id | name                       | help_category_id |
+---------------+----------------------------+------------------+
|             0 | HELP_DATE                  |                1 |
|             1 | HELP_VERSION               |                1 |
|             2 | AUTO_INCREMENT             |                2 |
|             3 | HELP COMMAND               |                3 |
|             4 | ASYMMETRIC_DECRYPT         |                5 |
|             5 | ASYMMETRIC_DERIVE          |                5 |
|             6 | ASYMMETRIC_ENCRYPT         |                5 |
|             7 | ASYMMETRIC_SIGN            |                5 |

</code></pre>

</section>
<section>

<p>é–¢æ•°ã£ã½ã„ã‚«ãƒ†ã‚´ãƒªã‹ã‚‰ãƒˆãƒ”ãƒƒã‚¯ã®åå‰ã‚’æŠ½å‡º</p>

<pre style="word-break: break-all; white-space: pre-wrap"><code class="language-sql">select t.name
  from mysql.help_topic t
    join mysql.help_category c using (help_category_id)
  where c.name rlike "functions|operators|geometry (constructors|relations)|properties|mbr|wkt|wkb|xml|gtid"
    and c.name != "user-defined functions"
    and t.name not rlike "definition"
</code></pre>

<p>ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã”ã¨ã«ã‚«ãƒ†ã‚´ãƒªãŒå¤‰ã‚ã£ãŸã‚Šã™ã‚‹</p>

</section>
<section>

<h3>ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h3>

<p><code>/usr/local/mysql/include/mysqld_error.h</code> ã‹ã‚‰<br>
ã‚¨ãƒ©ãƒ¼ç•ªå·ã‚’å–å¾—</p>

<pre><code class="language-cc">//#define OBSOLETE_ER_HASHCHK 1000
//#define OBSOLETE_ER_NISAMCHK 1001
#define ER_NO 1002
#define ER_YES 1003
#define ER_CANT_CREATE_FILE 1004
#define ER_CANT_CREATE_TABLE 1005
#define ER_CANT_CREATE_DB 1006
#define ER_DB_CREATE_EXISTS 1007
#define ER_DB_DROP_EXISTS 1008
//#define OBSOLETE_ER_DB_DROP_DELETE 1009
#define ER_DB_DROP_RMDIR 1010
//#define OBSOLETE_ER_CANT_DELETE_FILE 1011
</code></pre>

</section>
<section>

<p>ã‚¨ãƒ©ãƒ¼ç•ªå·ã§ <code>perror</code> ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œ</p>

<pre style="word-break: break-all; white-space: pre-wrap"><code class="language-shell">% perror 1002
MySQL error code MY-001002 (ER_NO): NO
% perror 1003
MySQL error code MY-001003 (ER_YES): YES
% perror 1004
MySQL error code MY-001004 (ER_CANT_CREATE_FILE): Can't create file '%-.200s' (errno: %d - %s)
% perror 1005
MySQL error code MY-001005 (ER_CANT_CREATE_TABLE): Can't create table '%-.200s' (errno: %d - %s)
% perror 1006
MySQL error code MY-001006 (ER_CANT_CREATE_DB): Can't create database '%-.192s' (errno: %d - %s)
</code></pre>

</section>
<section>

<p>ã ã„ãŸã„ã“ã‚“ãªæ„Ÿã˜ã§3ãƒ¶æœˆæ¯ã«å‡¦ç†ã—ã¦ã¾ã™</p>

<p>ãƒ†ã‚­ãƒˆãƒ¼ã«ä½œã‚Šå§‹ã‚ã¦ã‹ãªã‚Šã”ã¡ã‚ƒã”ã¡ã‚ƒã—ã¦ã‚‹ã‚“ã§ Vuetify.js ã¨ã‹ã§ä½œã‚Šç›´ã—ãŸã„</p>

</section>
<section>

<h2>ãŠã‚ã‚Š</h2>

</section>

  </div>
</div>

<script src="js/reveal.js"></script>


<script>
  (function() {
  function extend( a, b ) {
    for(var i in b) {
      a[i] = b[i];
    }
  }
  var baseOptions = {
    transition: 'default',
    hash: true,
    dependencies: [
      { src: 'plugin/markdown/marked.js' },
      { src: 'plugin/markdown/markdown.js' },
      { src: 'plugin/highlight/highlight.js' },
      { src: 'plugin/notes/notes.js', async: true }
    ]
  };

    baseOptions.dependencies.push({ src: 'plugin/rabbit/rabbit.js', async: true });

  var configOptions = {"controls":true,"postgress":true,"slideNumber":true,"history":true,"overview":true,"enter":true,"touch":false,"loop":false,"rtl":false,"fragments":true,"autoSlide":0,"autoSlideStoppable":false,"mouseWheel":false,"transition":"default","transitionSpeed":"fast","alloted_time":900}
  var initializeOptions = {};
  extend(initializeOptions, baseOptions);
  extend(initializeOptions, configOptions);
  Reveal.initialize(initializeOptions);
})();

</script>

  </body>
</html>
